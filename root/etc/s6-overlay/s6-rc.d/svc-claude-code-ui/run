#!/usr/bin/with-contenv bash
# shellcheck shell=bash

# Run Claude Code UI as a long-running service (as abc user)
# Depends on svc-claude-code-startup which installs the npm package
# Directory /config/.claude-code-ui is created by init-claude-code-config (as root, with correct ownership)

export HOME="/config"
export PATH="/config/.npm-global/bin:/config/.local/bin:$PATH"
export CLAUDE_CLI_PATH="/config/.local/bin/claude"
export DATABASE_PATH="/config/.claude-code-ui/auth.db"
export PORT=3001

exec s6-setuidgid abc claude-code-ui
